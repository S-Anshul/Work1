{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ansh1/OneDrive/Desktop/Workout_Buddy-main/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ansh1/OneDrive/Desktop/Workout_Buddy-main/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useAuthContext}from\"../hooks/useAuthContext\";import{useWorkoutsContext}from\"../hooks/useWorkoutsContext\";//date fns\nimport formatDistanceToNow from\"date-fns/formatDistanceToNow\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WorkoutDetails=function WorkoutDetails(_ref){var workout=_ref.workout;var _useWorkoutsContext=useWorkoutsContext(),dispatch=_useWorkoutsContext.dispatch;var _useAuthContext=useAuthContext(),user=_useAuthContext.user;var handleClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(user){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.next=4;return fetch(process.env.REACT_APP_API_URL+\"/api/workouts/\"+workout._id,{method:\"DELETE\",headers:{Authorization:\"Bearer \".concat(user.token)}});case 4:response=_context.sent;_context.next=7;return response.json();case 7:json=_context.sent;if(response.ok){dispatch({type:\"DELETE_WORKOUT\",payload:json});}case 9:case\"end\":return _context.stop();}},_callee);}));return function handleClick(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"workout-details\",children:[/*#__PURE__*/_jsx(\"h4\",{children:workout.title}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Load(kgs):\"}),workout.load]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Reps:\"}),workout.reps]}),/*#__PURE__*/_jsx(\"p\",{children:formatDistanceToNow(new Date(workout.createdAt),{addSuffix:true})}),/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",onClick:handleClick,children:\"delete\"})]});};export default WorkoutDetails;","map":{"version":3,"names":["useAuthContext","useWorkoutsContext","formatDistanceToNow","jsx","_jsx","jsxs","_jsxs","WorkoutDetails","_ref","workout","_useWorkoutsContext","dispatch","_useAuthContext","user","handleClick","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","json","wrap","_callee$","_context","prev","next","abrupt","fetch","process","env","REACT_APP_API_URL","_id","method","headers","Authorization","concat","token","sent","ok","type","payload","stop","apply","arguments","className","children","title","load","reps","Date","createdAt","addSuffix","onClick"],"sources":["C:/Users/ansh1/OneDrive/Desktop/Workout_Buddy-main/frontend/src/components/WorkoutDetails.jsx"],"sourcesContent":["import { useAuthContext } from \"../hooks/useAuthContext\";\nimport { useWorkoutsContext } from \"../hooks/useWorkoutsContext\";\n\n//date fns\nimport formatDistanceToNow from \"date-fns/formatDistanceToNow\";\n\nconst WorkoutDetails = ({ workout }) => {\n  const { dispatch } = useWorkoutsContext();\n  const { user } = useAuthContext();\n  const handleClick = async () => {\n    if (!user) {\n      return;\n    }\n    const response = await fetch(\n      process.env.REACT_APP_API_URL + \"/api/workouts/\" + workout._id,\n      {\n        method: \"DELETE\",\n        headers: {\n          Authorization: `Bearer ${user.token}`,\n        },\n      }\n    );\n    const json = await response.json();\n\n    if (response.ok) {\n      dispatch({ type: \"DELETE_WORKOUT\", payload: json });\n    }\n  };\n  return (\n    <div className=\"workout-details\">\n      <h4>{workout.title}</h4>\n      <p>\n        <strong>Load(kgs):</strong>\n        {workout.load}\n      </p>\n      <p>\n        <strong>Reps:</strong>\n        {workout.reps}\n      </p>\n      <p>\n        {formatDistanceToNow(new Date(workout.createdAt), { addSuffix: true })}\n      </p>\n      <span className=\"material-symbols-outlined\" onClick={handleClick}>\n        delete\n      </span>\n    </div>\n  );\n};\n\nexport default WorkoutDetails;\n"],"mappings":"kTAAA,OAASA,cAAc,KAAQ,yBAAyB,CACxD,OAASC,kBAAkB,KAAQ,6BAA6B,CAEhE;AACA,MAAO,CAAAC,mBAAmB,KAAM,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/D,GAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAAC,IAAA,CAAoB,IAAd,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAC/B,IAAAC,mBAAA,CAAqBT,kBAAkB,EAAE,CAAjCU,QAAQ,CAAAD,mBAAA,CAARC,QAAQ,CAChB,IAAAC,eAAA,CAAiBZ,cAAc,EAAE,CAAzBa,IAAI,CAAAD,eAAA,CAAJC,IAAI,CACZ,GAAM,CAAAC,WAAW,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,IAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,YACbb,IAAI,EAAAW,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAG,MAAA,kBAAAH,QAAA,CAAAE,IAAA,SAGc,CAAAE,KAAK,CAC1BC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAAG,gBAAgB,CAAGtB,OAAO,CAACuB,GAAG,CAC9D,CACEC,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CACPC,aAAa,WAAAC,MAAA,CAAYvB,IAAI,CAACwB,KAAK,CACrC,CACF,CAAC,CACF,QARKjB,QAAQ,CAAAI,QAAA,CAAAc,IAAA,CAAAd,QAAA,CAAAE,IAAA,SASK,CAAAN,QAAQ,CAACC,IAAI,EAAE,QAA5BA,IAAI,CAAAG,QAAA,CAAAc,IAAA,CAEV,GAAIlB,QAAQ,CAACmB,EAAE,CAAE,CACf5B,QAAQ,CAAC,CAAE6B,IAAI,CAAE,gBAAgB,CAAEC,OAAO,CAAEpB,IAAK,CAAC,CAAC,CACrD,CAAC,wBAAAG,QAAA,CAAAkB,IAAA,MAAAvB,OAAA,GACF,kBAlBK,CAAAL,WAAWA,CAAA,SAAAC,KAAA,CAAA4B,KAAA,MAAAC,SAAA,OAkBhB,CACD,mBACEtC,KAAA,QAAKuC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B1C,IAAA,OAAA0C,QAAA,CAAKrC,OAAO,CAACsC,KAAK,EAAM,cACxBzC,KAAA,MAAAwC,QAAA,eACE1C,IAAA,WAAA0C,QAAA,CAAQ,YAAU,EAAS,CAC1BrC,OAAO,CAACuC,IAAI,GACX,cACJ1C,KAAA,MAAAwC,QAAA,eACE1C,IAAA,WAAA0C,QAAA,CAAQ,OAAK,EAAS,CACrBrC,OAAO,CAACwC,IAAI,GACX,cACJ7C,IAAA,MAAA0C,QAAA,CACG5C,mBAAmB,CAAC,GAAI,CAAAgD,IAAI,CAACzC,OAAO,CAAC0C,SAAS,CAAC,CAAE,CAAEC,SAAS,CAAE,IAAK,CAAC,CAAC,EACpE,cACJhD,IAAA,SAAMyC,SAAS,CAAC,2BAA2B,CAACQ,OAAO,CAAEvC,WAAY,CAAAgC,QAAA,CAAC,QAElE,EAAO,GACH,CAEV,CAAC,CAED,cAAe,CAAAvC,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}